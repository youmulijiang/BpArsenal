# MontoyaApi使用规范

## 核心原则
- MontoyaApi实例必须通过单例模式管理，确保全局唯一访问点
- 所有API调用都要进行空值检查和异常处理
- UI组件注册要在initialize()方法中完成

## 单例模式实现
```java
public class ApiManager {
    private static ApiManager instance;
    private MontoyaApi api;
    
    private ApiManager() {}
    
    public static ApiManager getInstance() {
        if (instance == null) {
            instance = new ApiManager();
        }
        return instance;
    }
    
    public void setApi(MontoyaApi api) {
        this.api = api;
    }
    
    public MontoyaApi getApi() {
        return this.api;
    }
}
```

## API调用模式
- 使用ApiManager.getInstance().getApi()获取API实例
- 每次调用前检查API是否已初始化
- UI组件通过api.userInterface()获取
